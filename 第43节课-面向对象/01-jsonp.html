<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <style>
            *{ margin:0; padding:0; font-family:"Microsoft yahei",serif;}
            li{ list-style-type: none;}

            #box{
                width: 500px;
                margin: 50px auto;
            }
            #search{
                width: 494px;
                height: 40px;
                text-indent: 15px;
                font-size: 16px;
            }
            #list{
                width: 496px;
                border: 1px solid #000;
                border-top: none;
            }
            #list li{
                width: 100%;
                height: 30px;
                line-height: 30px;
                font-size: 14px;
                text-indent: 15px;
                cursor: pointer;
            }
            #list li:hover{
                background: #bbb;
            }
        </style>
    </head>
    <body>
        <div id="box">

            <input type="text" id="search">
            <ul id="list">
                <!--<li>111</li>
                <li>222</li>
                <li>333</li>-->
            </ul>

        </div>

        <script>
            
            /*
             跨域：后台、flash、服务器端设置、jsonp

             jsonp ：
                技术，通过将文件以script标签形式加载从而拿取数据的技术
             */

            //通过实例，来看jsonp的运用


            var oSearch = document.getElementById("search");
            var oList = document.getElementById("list");



            oSearch.onkeyup = function () {

                var val = this.value;

                var oS = document.createElement("script");
                oS.src = 'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd='+val+'&cb=fly';
                document.body.appendChild( oS );
                oS.onload = function () {
                    document.body.removeChild( this );
                }
            };

            oList.onclick = function (e) {
                var objTarget = e.target;
                if ( /LI/i.test(objTarget.nodeName) ){
                    window.open( "https://www.baidu.com/s?wd="+objTarget.innerHTML );
                }
            };

            function fly( obj ){
                //console.log( obj.s );
                var data = obj.s;
                var html = "";
                for (var i = 0,length=data.length; i < length; i++) {
                    html += "<li>"+data[i]+"</li>";
                }
                oList.innerHTML = html;
            }


            /*var oS = document.createElement("script");
            oS.src = 'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=%E9%98%BF%E9%A3%9E&cb=fly';
            document.body.appendChild( oS );

            function fly( obj ){
                console.log( obj.s );
            }*/

            /*var str = "狗蛋sss";
            alert( decodeURI( encodeURI(str) ) );*/
            
            
        </script>
    </body>
</html>













