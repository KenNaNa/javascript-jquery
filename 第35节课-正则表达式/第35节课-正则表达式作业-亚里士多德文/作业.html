<!doctype html>
<html lang="en">
	 <head>
         <meta charset="UTF-8">
         <meta name="Generator" content="EditPlus®">
         <meta name="Author" content="">
	     <meta name="Keywords" content="">
	     <meta name="Description" content="">
         <title>作业-李金文</title>
		 <style type="text/css">
		     *{
			     margin:0;
			     padding:0;
				 list-style:none;
			 }
			 body{
			    background:rgb(185,185,185);
			 }
			 .same{
			    width:420px;
				margin:0 auto;
			 }
			 #top{
				height:35px;
				background:rgb(0,144,192);
			 }
			 #top h3{
			    width:100%;
				height:100%;
				color:#fff;
				text-align:center;
				line-height:35px;
			 }
			 #con{
			    width:400px;
				height:auto;
				padding:10px;
				background:rgb(0,192,240);
			 }
			 #con form{
			    width:400px;
				height:auto;
			 }
			 #con form ul{
			    width:100%;
				height:100%;
			 }
			 #con form ul li{
			    width:100%;
				height:auto;
				margin-bottom:15px;
				text-align:center;
				position:relative;
			 }
			 #con form ul li input{
			    width:230px;
				height:100%;
				padding: 12px 20px;
			 }
			 #con form ul li input[type="submit"]{
			    background:rgb(0,144,192);
				border:none;
				width:272px;
				text-indent:0;
				color:#fff;
				font-size:16px;
				font-weight:bold;
			 }
			 #con form ul li p{
			    color:red;
                text-align:left;
				font-size:14px;
				display:none;
			 }
			 #con form ul li span{
			    position:absolute;
				z-index:10;
				display:block;
			    color:#fff;
				width:100px;
				height:auto;
				background:rgba(0,0,0,0.5);
				text-align:center;
				line-height:50px;
				transition:all 0.8s ease;
				display:none;
			 }
			 #con form ul li.tip:before{
			    position:absolute;
				right:43px;
				top:12px;
			    content:"";
				width:0;
				height:0;
				border:10px solid #000;
				border-color: transparent transparent transparent #000;
				display:none;
				transition:all 0.8s ease;
			 }
			 #con form ul li.tip:after{
			    position:absolute;
				top:1px;
				width:auto;
				height:30px;
				padding:5px;
				background:red;
				text-align:center;
				line-height:30px;
				font-size:14px;
				color:#fff;
				display:none;
				transition:all 0.8s ease;
			 }
			 #con form ul li.tip1:after{content:"请输入字母,数字,范围数为5-10个字符";right:-192px;}
			 #con form ul li.tip2:after{content:"请输入字母,数字,等6-18个字符";right:-150px;}
			 #con form ul li.tip3:after{content:"请再次确认密码";right:-55px;}
			 #con form ul li.tip4:after{content:"请输入11位手机号码";right:-87px;}
			 #con form ul li.tip5:after{content:"请输入准确的邮箱地址";right:-98px;}
			 #con form ul li.tip6:after{content:"请输入18位身份证号码";right:-100px;}
			 #con form ul li.tip:hover:after,#con form ul li.tip:hover:before{
			    display:block;
			 }
		 </style>
	 </head>
<body>
<div id='top' class="same">
   <h3>注册</h3>
</div>
<div id="con" class="same">
   <form action="" method="">
      <ul>
      	<li class="tip tip1">
		   <input type="text" placeholder="请输入用户名" />
		   <p>输入用户名格式有误</p>
		</li>
      	<li class="tip tip2">
		   <input type="password" placeholder="请输入密码" />
		   <p>输入密码格式有误</p>
		</li>
      	<li class="tip tip3">
		   <input type="password" placeholder="请重新输入密码" />
		   <p>两次输入的密码不一样</p>
		   <span>请输入密码</span>
		</li>
      	<li class="tip tip4">
		   <input type="text" placeholder="请输入手机号码" />
		   <p>输入手机号码格式有误</p>
		</li>
      	<li class="tip tip5">
		   <input type="text" placeholder="请输入邮箱地址" />
		   <p>输入邮箱地址格式有误</p>
		</li>
      	<li class="tip tip6">
		   <input type="text" placeholder="请输入省份证号" />
		   <p>输入身份证号格式有误</p>
		</li>
		<li>
		   <input type="submit" value = '注册' />
		</li>
      </ul>
   </form>
</div>
<script>
    var reg = {
		qq : /^[1-9]\d{4,9}$/,//QQ号
		user : /^[a-zA-Z_]\w{5,17}$/,//用户名
		pwd : /^[\w~!@#%$^&*()+{}:"<>?|`,/\[\]\-\\\.]{6,18}$/,//密码
		tel : /^1[3-8]\d{9}$/,//手机号
		mail : /^[1-9a-z_]\w{5,17}@[\da-z]{2,}(\.[a-z]{2,4}){1,2}$/i,//邮箱
		IDCard : /^[1-9]\d{16}[\dx]$/i//身份证号
	};
	var aP = document.querySelectorAll('.tip p');
	var aTipInput = document.querySelectorAll('.tip input');
	var oSpan = document.querySelector('.tip span');
	var length = aTipInput.length;
	var v = '';
	var b;
	var flag = false;
	for( var i = 0;i<length;i++ ){
		    aTipInput[i].index = i;
			aTipInput[i].onclick=function (){
			   switch(this.index){
			      case 0:
				     m(0);
				     break;
				  case 1:
				     v = aTipInput[1].value;
					 b = reg.pwd.test(v);
					 if( v.length>=6&&v.length<=18 ){
					     aP[1].style.display = 'none';
					 }else{
						 m(1);
					 }
				     break;
				  case 2:
				     v = aTipInput[2].value;
					 v1 = aTipInput[1].value;
					 b = reg.pwd.test(v);
					 if(v!=v1&&v!=''){
					     aP[2].style.display = 'block';
					 }else{
					     aP[2].style.display = 'none';
					 }
				     aTipInput[2].onclick = function(){
						aTipInput[1].focus();
						this.blur();
					}
				     break;
				  case 3:
				     v = aTipInput[3].value;
                     b = reg.tel.test(v);
					 if( !b&&v!='' ){
					     aP[3].style.display = 'block';
					 }
				     break;
				  case 4:
					 m(4);
				     break;
				  case 5:
				     m(5);
				     break;
			   } 
			}
	}

	function m(i){
	    v = aTipInput[i].value;
        b = reg.mail.test(v); 
		if( !b&&v!='' ){
			aP[i].style.display = 'block';
		}
	}
</script>
</body>
</html>
