<!DOCTYPE HTML>
<html>
	<head>
		<title>please enter your title</title>
		<meta charset="utf-8">
		<meta name="Author" content="潭州学院-阿飞老师">
		<style type='text/css'>
			*{ margin:0; padding:0;font-family:'Microsoft yahei';}
			#box{
				position:absolute;
				top: 0;
				left: 0;
				width: 50px;
				height: 50px;
				background: pink;
				border-radius: 50%;
			}
		</style>
	</head>
	<body>
		
		<div id="box"></div>

		<script type="text/javascript">
			
			var oBall = document.getElementById("box"),
				width = oBall.offsetWidth,
				height = oBall.offsetHeight;

			var Vx = 10;
			var Vy = 20;

			//边界
			var maxW,maxH;
			//浏览器的窗口在改变大小的时候触发
			window.onresize = max();
			function max(){
				maxW = document.documentElement.clientWidth - width;
				maxH = document.documentElement.clientHeight - height;
				return max;
			}

			window.requestAnimationFrame = window.requestAnimationFrame || function(a){return setTimeout(a,1000/60)};
			window.cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;

			~function m(){
				var left = oBall.offsetLeft + Vx,
					top = oBall.offsetTop + Vy;
				
				if ( left >= maxW )
				{
					left = maxW;
					Vx = -Vx;
				}
				if ( left <= 0 )
				{
					left = 0;
					Vx = -Vx;
				}

				if ( top >= maxH )
				{
					top = maxH;
					Vy = -Vy;
				}
				if ( top <= 0 )
				{
					top = 0;
					Vy = -Vy;
				}

				requestAnimationFrame(m);

				oBall.style.left = left + 'px';
				oBall.style.top = top + 'px';
			}();

		</script>
	</body>
</html>