<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Document</title>
	</head>
	<body>
		<div id='box' class='on active a b'>我是第一个div</div>
		<script type="text/javascript">
			// 封装addClass函数 ，难过addClass函数 去给元素添加 class名称
			//var aDiv = document.getElementById('box');
			
			var aDiv = getClass('a');
			
			addClass(aDiv[0],'on b xyz abc');
			
			
			function addClass( ele,cName ){
				var arr1 = ele.className.split(' ');
				var arr2 = cName.split(' ');
				var arr3 = arr1.concat(arr2);
				
				for( var i=0;i<arr3.length;i++ ){
					for(var j=i+1;j<arr3.length;j++){
						if( arr3[i] == arr3[j] ){
							arr3.splice(j,1);
							j--;
						}
					}
				}
				ele.className = arr3.join(' ')
			}

			function getClass( obj ){
				if( document.getElementsByClassName ){
					return document.getElementsByClassName(obj);
				}else{ // 去解决ie 678的不兼容问题
					var all = document.getElementsByTagName('*');
					var arr = [];
					for( var i=0;i<all.length;i++ ){
						var className = all[i].className;
						var arrClass = className.split(' ');
						for( var j=0;j<className.length;j++ ){
							if( arrClass[j] == obj ){
								arr.push( all[i] );
							}
						}
					}
					return arr;
				}
			}
		</script>
	</body>
</html>
